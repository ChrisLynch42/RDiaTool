<%
  single = template_variables['table_name'].downcase.singularize
  plural = template_variables['table_name'].downcase
  cap_single = template_variables['table_name'].capitalize.singularize
  cap_plural = template_variables['table_name'].capitalize
%>

  def create
    @<%= single %> = <%= cap_single %>.new(params[:<%= single %>])

    respond_to do |format|
      if @<%= single %>.save
        format.html { redirect_to <%= single %>_path(@<%= single %>, :letter => get_first_letter(@<%= single %>) ), notice: '<%= cap_single %> was successfully created.' }
        format.json { render json: @<%= single %>, status: :created, location: @<%= single %> }
      else
        new_html(format, @<%= single %>)
        format.json { render json: @<%= single %>.errors, status: :unprocessable_entity }
      end
    end
  end

