<%
  single = template_variables['table_name'].downcase.singularize
  plural = template_variables['table_name'].downcase
  cap_single = template_variables['table_name'].capitalize.singularize
  cap_plural = template_variables['table_name'].capitalize
%>

class <%= template_variables['table_name'].capitalize %>Controller < ApplicationController


  def index
    <%= erb_output(@base_directory + '/controller_index_prepare.erb',template_variables) %>
    <%= erb_output(@base_directory + '/controller_index_send.erb',template_variables) %>
  end

  def show
  <%= erb_output(@base_directory + '/controller_show_prepare.erb',template_variables) %>
  <%= erb_output(@base_directory + '/controller_show_send.erb',template_variables) %>
  end

  def new
  <%= erb_output(@base_directory + '/controller_new_prepare.erb',template_variables) %>
  <%= erb_output(@base_directory + '/controller_new_send.erb',template_variables) %>
  end

  def edit
  <%= erb_output(@base_directory + '/controller_edit_prepare.erb',template_variables) %>
  <%= erb_output(@base_directory + '/controller_edit_send.erb',template_variables) %>
  end

  def create
  <%= erb_output(@base_directory + '/controller_create_prepare.erb',template_variables) %>
  <%= erb_output(@base_directory + '/controller_create_send.erb',template_variables) %>
  end

  def update
  <%= erb_output(@base_directory + '/controller_update_prepare.erb',template_variables) %>
  <%= erb_output(@base_directory + '/controller_update_send.erb',template_variables) %>
  end

  def destroy
  <%= erb_output(@base_directory + '/controller_destroy_prepare.erb',template_variables) %>
  <%= erb_output(@base_directory + '/controller_destroy_send.erb',template_variables) %>
  end

  protected

  def get_first_letter(model)
    unless model.nil? || model.title.nil? 
      model.title[0]
    end
  end

  def new_html(format, model, url_params=nil)
    render_new_html(format, model, 'New <%= cap_plural %>', url_params)
  end

  def edit_html(format, model, url_params=nil)
    render_edit_html(format, model, '<%= cap_single %>', url_params)
  end 

  def show_html(format, model, url_params=nil)    
    render_show_html(format, model, '<%= cap_single %>', url_params)
  end 
end

