<%
  _erbout << "  ###Do not edit the below \n"
  _erbout << "  ###Begin RDiaTool Code \n"
  attributes = '  attr_accessible '
  references = Hash.new()
  template_variables['database'].tables_by_name[template_variables['table_name']].columns().each do | key, value|
    if key.upcase() != 'ID'
      attributes << ' :' 
      attributes << key
      attributes << ', ' 
      if !value.references.nil? && value.references.length > 0
        references.merge!(value.references)
      end      
    end
  end
  _erbout << attributes[0..-3]
  _erbout << "\n"

  references.each do | key, reference |
    _erbout << ' belongs_to :'    
    _erbout << reference.end_point.table_name
    _erbout << "\n"    
  end

  _erbout << "  ###Do not edit the above \n"
%>
